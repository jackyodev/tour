{"ast":null,"code":"var _jsxFileName = \"E:\\\\Projects\\\\tour\\\\src\\\\components\\\\garden.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useLocation } from \"react-router-dom\";\nimport { Loading } from \"./subComponents/loading.js\";\nimport { gardenHeaderMedia } from \"./subComponents/headerMedia.js\";\nimport \"../scss/garden.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction renderComp(props) {\n  if (props !== null) {\n    let {\n      map_number,\n      location_name,\n      place_desc\n    } = props.desc;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"garden\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"pageTitle\",\n        children: [map_number, \". \", location_name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 9\n      }, this), gardenHeaderMedia(props.media), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"pageDesc\",\n        children: place_desc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 12\n    }, this);\n  }\n}\n\nexport function Garden() {\n  _s();\n\n  const location = useLocation();\n  const useParams = new URLSearchParams(location.search);\n  const id = useParams.get(\"id\");\n  const [gardenInfo, setGardenInfo] = useState(null);\n  useEffect(() => {\n    //https://dev.to/reenydavidson/settimeout-in-useeffect-api-call-data-fetching-j33\n    const fetchData = () => {\n      //use gardens route to id each route\n      axios.get(`/api/gardens/${id}`).then(res => {\n        setGardenInfo(res.data.data);\n      }).catch(err => console.log(err));\n    };\n\n    const timer = setTimeout(() => {\n      fetchData();\n    }, 1000); //the return callback is to cleanup the useEffect\n\n    return () => clearTimeout(timer);\n  }, [id]);\n  return renderComp(gardenInfo);\n}\n\n_s(Garden, \"xhTviuVD8TppaADerl06+UnTLJA=\", false, function () {\n  return [useLocation];\n});\n\n_c = Garden;\nconst exported = {\n  Garden\n};\nexport default exported;\n\nvar _c;\n\n$RefreshReg$(_c, \"Garden\");","map":{"version":3,"sources":["E:/Projects/tour/src/components/garden.js"],"names":["React","useEffect","useState","axios","useLocation","Loading","gardenHeaderMedia","renderComp","props","map_number","location_name","place_desc","desc","media","Garden","location","useParams","URLSearchParams","search","id","get","gardenInfo","setGardenInfo","fetchData","then","res","data","catch","err","console","log","timer","setTimeout","clearTimeout","exported"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,OAAT,QAAwB,4BAAxB;AACA,SAASC,iBAAT,QAAkC,gCAAlC;AAEA,OAAO,qBAAP;;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AACzB,MAAIA,KAAK,KAAK,IAAd,EAAoB;AAClB,QAAI;AAAEC,MAAAA,UAAF;AAAcC,MAAAA,aAAd;AAA6BC,MAAAA;AAA7B,QAA4CH,KAAK,CAACI,IAAtD;AAEA,wBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,8BACE;AAAI,QAAA,SAAS,EAAC,WAAd;AAAA,mBACGH,UADH,QACiBC,aADjB;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAIGJ,iBAAiB,CAACE,KAAK,CAACK,KAAP,CAJpB,eAKE;AAAG,QAAA,SAAS,EAAC,UAAb;AAAA,kBAAyBF;AAAzB;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AASD,GAZD,MAYO;AACL,wBAAO,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;AACF;;AAED,OAAO,SAASG,MAAT,GAAkB;AAAA;;AACvB,QAAMC,QAAQ,GAAGX,WAAW,EAA5B;AACA,QAAMY,SAAS,GAAG,IAAIC,eAAJ,CAAoBF,QAAQ,CAACG,MAA7B,CAAlB;AACA,QAAMC,EAAE,GAAGH,SAAS,CAACI,GAAV,CAAc,IAAd,CAAX;AACA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BpB,QAAQ,CAAC,IAAD,CAA5C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd;AAEA,UAAMsB,SAAS,GAAG,MAAM;AACtB;AACApB,MAAAA,KAAK,CACFiB,GADH,CACQ,gBAAeD,EAAG,EAD1B,EAEGK,IAFH,CAESC,GAAD,IAAS;AACbH,QAAAA,aAAa,CAACG,GAAG,CAACC,IAAJ,CAASA,IAAV,CAAb;AACD,OAJH,EAKGC,KALH,CAKUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CALlB;AAMD,KARD;;AAUA,UAAMG,KAAK,GAAGC,UAAU,CAAC,MAAM;AAC7BT,MAAAA,SAAS;AACV,KAFuB,EAErB,IAFqB,CAAxB,CAbc,CAiBd;;AACA,WAAO,MAAMU,YAAY,CAACF,KAAD,CAAzB;AACD,GAnBQ,EAmBN,CAACZ,EAAD,CAnBM,CAAT;AAqBA,SAAOZ,UAAU,CAACc,UAAD,CAAjB;AACD;;GA5BeP,M;UACGV,W;;;KADHU,M;AA8BhB,MAAMoB,QAAQ,GAAG;AAAEpB,EAAAA;AAAF,CAAjB;AACA,eAAeoB,QAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { Loading } from \"./subComponents/loading.js\";\r\nimport { gardenHeaderMedia } from \"./subComponents/headerMedia.js\";\r\n\r\nimport \"../scss/garden.scss\";\r\n\r\nfunction renderComp(props) {\r\n  if (props !== null) {\r\n    let { map_number, location_name, place_desc } = props.desc;\r\n\r\n    return (\r\n      <div className=\"garden\">\r\n        <h1 className=\"pageTitle\">\r\n          {map_number}. {location_name}\r\n        </h1>\r\n        {gardenHeaderMedia(props.media)}\r\n        <p className=\"pageDesc\">{place_desc}</p>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <Loading />;\r\n  }\r\n}\r\n\r\nexport function Garden() {\r\n  const location = useLocation();\r\n  const useParams = new URLSearchParams(location.search);\r\n  const id = useParams.get(\"id\");\r\n  const [gardenInfo, setGardenInfo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    //https://dev.to/reenydavidson/settimeout-in-useeffect-api-call-data-fetching-j33\r\n\r\n    const fetchData = () => {\r\n      //use gardens route to id each route\r\n      axios\r\n        .get(`/api/gardens/${id}`)\r\n        .then((res) => {\r\n          setGardenInfo(res.data.data);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    };\r\n\r\n    const timer = setTimeout(() => {\r\n      fetchData();\r\n    }, 1000);\r\n\r\n    //the return callback is to cleanup the useEffect\r\n    return () => clearTimeout(timer);\r\n  }, [id]);\r\n\r\n  return renderComp(gardenInfo);\r\n}\r\n\r\nconst exported = { Garden };\r\nexport default exported;\r\n"]},"metadata":{},"sourceType":"module"}